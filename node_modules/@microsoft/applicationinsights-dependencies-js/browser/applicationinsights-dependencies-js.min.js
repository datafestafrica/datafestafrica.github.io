/*!
 * Application Insights JavaScript SDK - Dependencies Plugin, 2.8.1
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(e){"use strict";var c="function",F="object",o="undefined",U="prototype",l="hasOwnProperty",n=Object,f=n[U],t=n.assign,r=(n.create,n.defineProperty),p=f[l],a=null;function ee(e){return void 0===e&&(e=!0),a&&e||(typeof globalThis!==o&&globalThis&&(a=globalThis),typeof self!==o&&self&&(a=self),typeof window!==o&&window&&(a=window),typeof global!==o&&global&&(a=global)),a}function q(e){throw new TypeError(e)}(ee()||{}).Symbol,(ee()||{}).Reflect;var te=t||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])f[l].call(t,o)&&(e[o]=t[o]);return e},I=function(e,t){return(I=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[l](n)&&(e[n]=t[n])})(e,t)},d="",M="isInitialized",H="teardown",g="core",D="update",k="disabled",L="_doTeardown",ne="toISOString",P="trim",t="toString",S="constructor",j=r,A=n.freeze,R=n.keys,_=String[U][P],re=Date[U][ne],i=Array.isArray,E=f[t],N=p[t],oe=N.call(n),ae=/-([a-z])/g,ie=/([^\w\d_$])/g,ue=/^(\d+[\w\d_$])/,se=Object.getPrototypeOf;function ce(e){if(e){if(se)return se(e);e=e.__proto__||e[U]||e[S];if(e)return e}return null}function le(e){return e===undefined||typeof e===o}function O(e){return null===e||le(e)}function fe(e){return!(!e||typeof e!==F)}function K(e){return!(!e||typeof e!==c)}function de(e){var t=e;return e&&V(e)?(t=(t=e.replace(ae,function(e,t){return t.toUpperCase()})).replace(ie,"_")).replace(ue,function(e,t){return"_"+t}):t}function X(e,t){if(e)for(var n in e)p.call(e,n)&&t.call(e,n,e[n])}function pe(e,t){return!(!e||!t||!~e.indexOf(t))}var z=i||function(e){return!(!e||"[object Array]"!==E.call(e))};function V(e){return"string"==typeof e}function ge(e){return e&&"object"==typeof e&&(!(e=(se||ce)(e))||typeof(e=e[S]&&p.call(e,S)?e[S]:e)===c&&N.call(e)===oe)}function $(e,t,n){var r=e.length;try{for(var o=0;o<r&&!(o in e&&-1===t.call(n||e,e[o],o,e));o++);}catch(a){}}function he(e){return e&&(_&&e[P]?e[P]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var ve=!{toString:null}.propertyIsEnumerable("toString"),me=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function xe(e){var t=typeof e;if(t===c||t===F&&null!==e||q("objKeys called on non-object"),!ve&&R)return R(e);var n,r=[];for(n in e)e&&p.call(e,n)&&r.push(n);if(ve)for(var o=me.length,a=0;a<o;a++)e&&p.call(e,me[a])&&r.push(me[a]);return r}var ye=A||function(e){return e};function Ce(){var e=Date;return e.now?e.now():(new e).getTime()}var Te="constructor",h="prototype",be="function",we="_dynInstFuncs",qe="_isDynProxy",v="_dynClass",Ie="_dynInstChk",Me=Ie,He="_dfOpts",De="_unknown_",ke="__proto__",Le="useBaseInst",Pe="setInstFuncs",Se=Object,je=Se.getPrototypeOf,Ae=0;function m(e,t){return e&&Se[h].hasOwnProperty.call(e,t)}function Re(e){return e&&(e===Se[h]||e===Array[h])}function _e(e){return Re(e)||e===Function[h]}function x(e){if(e){if(je)return je(e);e=e[ke]||e[h]||(e[Te]?e[Te][h]:null);if(e)return e}return null}function Ee(e,t){var n=[],r=Se.getOwnPropertyNames;if(r)n=r(e);else for(var o in e)"string"==typeof o&&m(e,o)&&n.push(o);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function Ne(e,t,n){return t!==Te&&typeof e[t]===be&&(n||m(e,t))}function Fe(e){throw new TypeError("DynamicProto: "+e)}function Ue(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function Oe(e,t){return m(e,h)?e.name||t||De:((e||{})[Te]||{}).name||t||De}function B(e,r,t,n){m(e,h)||Fe("theClass is an invalid class definition.");var o,a,i,u,s,c,l=e[h],f=(function(e){if(je)for(var t=[],n=x(r);n&&!_e(n)&&!Ue(t,n);){if(n===e)return 1;t.push(n),n=x(n)}}(l)||Fe("["+Oe(e)+"] is not in class hierarchy of ["+Oe(r)+"]"),null),e=(m(l,v)?f=l[v]:(f="_dynCls$"+Oe(e,"_")+"$"+Ae,Ae++,l[v]=f),B[He]),d=!!e[Le],p=(d&&n&&n[Le]!==undefined&&(d=!!n[Le]),a={},Ee(o=r,function(e){!a[e]&&Ne(o,e,!1)&&(a[e]=o[e])}),a),d=(t(r,function(e,t,n,a){function r(e,t,n){var r,o=t[n];return o[qe]&&a&&!1!==(r=e[we]||{})[Me]&&(o=(r[t[v]]||{})[n]||o),function(){return o.apply(e,arguments)}}for(var o={},i=(Ee(n,function(e){o[e]=r(t,n,e)}),x(e)),u=[];i&&!_e(i)&&!Ue(u,i);)Ee(i,function(e){!o[e]&&Ne(i,e,!je)&&(o[e]=r(t,i,e))}),u.push(i),i=x(i);return o}(l,r,p,d)),!!je&&!!e[Pe]);i=l,t=f,u=r,s=p,e=!1!==(d=d&&n?!!n[Pe]:d),Re(i)||(l=u[we]=u[we]||{},c=l[t]=l[t]||{},!1!==l[Me]&&(l[Me]=!!e),Ee(u,function(e){var n,r,o;Ne(u,e,!1)&&u[e]!==s[e]&&(c[e]=u[e],delete u[e],m(i,e)&&(!i[e]||i[e][qe])||(i[e]=(n=i,r=e,(o=function(){var e,t;return(function(e,t,n,r){var o=null;if(e&&m(n,v)){var a=e[we]||{};if((o=(a[n[v]]||{})[t])||Fe("Missing ["+t+"] "+be),!o[Ie]&&!1!==a[Me]){for(var i=!m(e,t),u=x(e),s=[];i&&u&&!_e(u)&&!Ue(s,u);){var c=u[t];if(c){i=c===r;break}s.push(u),u=x(u)}try{i&&(e[t]=o),o[Ie]=1}catch(l){a[Me]=!1}}}return o}(this,r,n,o)||(typeof(t=(t=n[e=r])===o?x(n)[e]:t)!==be&&Fe("["+e+"] is not a "+be),t)).apply(this,arguments)})[qe]=1,o)))}))}var Ke="window",Xe="documentMode",ze="console",Ve="performance",$e="JSON",Be="crypto",We="msCrypto",Je="msie",Ye="trident/",Ge="XMLHttpRequest",Ze=null,Qe=null;function W(e){var t=ee();return t&&t[e]?t[e]:e===Ke&&typeof window===F&&window?window:null}function et(){return typeof document===F&&document?document:W("document")}function tt(){return typeof navigator===F&&navigator?navigator:W("navigator")}function nt(){return W(Ve)}function rt(){return typeof JSON===F&&JSON||null!==W($e)}function ot(){return rt()?JSON||W($e):null}function J(e){var t=Object[U].toString.call(e),n=d;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":rt()&&(n=ot().stringify(e)),t+n}B[He]={setInstFuncs:!0,useBaseInst:!0};var at=null;function it(e){return e?'"'+e.replace(/\"/g,d)+'"':d}function ut(e,t){var n,r=typeof console!==o?console:W(ze);r&&(n="log",K(r[n=r[e]?e:n])&&r[n](t))}ct.dataType="MessageData";var st=ct;function ct(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;n=d,rt()&&(n=ot().stringify(r)),e=(t?" message:"+it(t):d)+(r?" props:"+it(n):d);this.message+=e}var lt=function Vn(o){this.identifier="DiagnosticLogger",this.queue=[];var u=0,s={};B(Vn,this,function(a){function e(e,t){e=o[e];return O(e)?t:e}function i(e,t){var n,r=(n=(n=at)||!0===o.disableDbgExt?n:at||(r=W("Microsoft"),at=r?r.ApplicationInsights:at))?n.ChromeDbgExt:null;r&&r.diagLog&&r.diagLog(e,t)}O(o)&&(o={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,o){t=new st(t,n,o=void 0!==o&&o,r);if(a.enableDebugExceptions())throw t;n=1===e?"errorToConsole":"warnToConsole";le(t.message)?i("throw"+(1===e?"Critical":"Warning"),t):(r=a.consoleLoggingLevel(),o?(o=+t.messageId,!s[o]&&e<=r&&(a[n](t.message),s[o]=!0)):e<=r&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){ut("warn",e),i("warning",e)},a.errorToConsole=function(e){ut("error",e),i("error",e)},a.resetInternalMessageCount=function(){u=0,s={}},a.logInternalMessage=function(e,t){var n,r;u>=a.maxInternalMessageLimit()||(r=!0,n="AITR_"+t.messageId,s[n]?r=!1:s[n]=!0,r&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),u++,i(1===e?"error":"warn",t)),u===a.maxInternalMessageLimit()&&(r=new st(23,n="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(r),1===e?a.errorToConsole(n):a.warnToConsole(n))))}})};function y(e,t,n,r,o,a){void 0===a&&(a=!1),(e||new lt).throwInternal(t,n,r,o,a)}u.ParentContextKey="parent",u.ChildrenContextKey="childEvts";var ft=u;function u(e,o,t){var r,a=this,i=!1;a.start=Ce(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},K(o)&&(i=function(e){if(j)try{var t={enumerable:!0,configurable:!0,get:function(){return!r&&K(o)&&(r=o(),o=null),r}};return j(e,"payload",t),!0}catch(n){}return!1}(a)),a.getCtx=function(e){return e?(e===u.ParentContextKey||e===u.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===u.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===u.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(u.ChildrenContextKey);if(z(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=Ce()-a.start,a.exTime=a.time-e,a.complete=function(){},!i&&K(o)&&(a.payload=o())}}var dt="CoreUtils.doPerf";function pt(e,t,n,r,o){if(e)if(e=K(e.getPerfMgr)?e.getPerfMgr():e){var a,i=void 0,u=e.getCtx(dt);try{if(i=e.create(t(),r,o))return u&&i.setCtx&&(i.setCtx(ft.ParentContextKey,u),u.getCtx&&u.setCtx&&((a=u.getCtx(ft.ChildrenContextKey))||(a=[],u.setCtx(ft.ChildrenContextKey,a)),a.push(i))),e.setCtx(dt,i),n(i)}catch(s){i&&i.setCtx&&i.setCtx("exception",s)}finally{i&&e.fire(i),e.setCtx(dt,u)}}n()}var gt=4294967296,s=4294967295,ht=!1,vt=123456789,mt=987654321;function xt(e){var t,n=0,r=W(Be)||W(We);if(0===(n=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&s:n)&&(!(r=tt())||r.userAgent===Qe&&null!==Ze||(r=((Qe=r.userAgent)||d).toLowerCase(),Ze=pe(r,Je)||pe(r,Ye)),Ze)){if(!ht)try{var o=2147483647&Ce();(t=(Math.random()*gt^o)+o)<0&&(t>>>=0),vt=123456789+t&s,mt=987654321-t&s,ht=!0}catch(a){}r=((mt=36969*(65535&mt)+(mt>>16)&s)<<16)+(65535&(vt=18e3*(65535&vt)+(vt>>16)&s))>>>0&s|0,n=(r>>>=0)&s}return 0===n&&(n=Math.floor(gt*Math.random()|0)),e||(n>>>=0),n}var yt=r,Ct="2.8.1",Tt="."+function(e){void 0===e&&(e=22);for(var t=xt()>>>0,n=0,r=d;r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(xt()<<2&4294967295|3&t)>>>0,n=0);return r}(6),bt=0;function wt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function qt(e,t){return de(e+bt+++((t=void 0!==t&&t)?"."+Ct:"")+Tt)}function It(e){var a={id:qt("_aiData-"+(e||"")+"."+Ct),accept:wt,get:function(e,t,n,r){var o=e[a.id];return o?o[de(t)]:(r&&((o=function(e,t){var n=t[e.id];if(!n){n={};try{wt(t)&&!function(e,t,n){if(yt)try{return yt(e,t,{value:n,enumerable:!1,configurable:!0}),1}catch(r){}}(t,e.id,n)&&(t[e.id]=n)}catch(r){}}return n}(a,e))[de(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return a}var Mt=It("plugin");function Ht(e){return Mt.get(e,"state",{},!0)}var Dt="TelemetryPluginChain",kt="_hasRun",Lt="_getTelCtx",Pt=0;function St(e,i,n,t){var r=null,o=[],a=(null!==t&&(r=t?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return At([n],t.config||{},t)}(e,n,t):e),{_next:function(){var e,t=r;return r=t?t.getNext():null,t||(e=o)&&0<e.length&&($(e,function(e){try{e.func.call(e.self,e.args)}catch(t){y(n.logger,2,73,"Unexpected Exception during onComplete - "+J(t))}}),o=[]),t},ctx:{core:function(){return n},diagLog:function(){return(n||{}).logger||new lt(i)},getCfg:function(){return i},getExtCfg:u,getConfig:function(e,t,n){void 0===n&&(n=!1);var r,e=u(e,null);return e&&!O(e[t])?r=e[t]:i&&!O(i[t])&&(r=i[t]),O(r)?n:r},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(;t=a._next();){var t=t.getPlugin();t&&e(t)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&o.push({func:e,self:le(t)?a.ctx:t,args:n})}}});function u(e,t,n){var r,o,a;return void 0===t&&(t={}),void 0===n&&(n=0),(r=i&&(o=i.extensionConfig)&&e?o[e]:r)?fe(t)&&0!==n&&(a=function d(){var e=arguments,t=e[0]||{},n=e.length,r=!1,o=1;for(0<n&&"boolean"==typeof t&&(r=t,t=e[o]||{},o++),fe(t)||(t={});o<n;o++){var a,i,u,s,c=e[o],l=z(c),f=fe(c);for(a in c)(l&&a in c||f&&p.call(c,a))&&(i=c[a],u=void 0,r&&i&&((u=z(i))||ge(i))&&(s=t[a],u?z(s)||(s=[]):ge(s)||(s={}),i=d(r,s,i)),i!==undefined&&(t[a]=i))}return t}(!0,t,r),i&&2===n&&X(t,function(e){var t;O(a[e])&&!O(t=i[e])&&(a[e]=t)}),r=a):r=t,r}return a}function jt(e,n,r,t){var o=St(e,n,r,t),a=o.ctx;return a.processNext=function(e){var t=o._next();return t&&t.processTelemetry(e,a),!t},a.createNew=function(e,t){return jt((e=z(e=void 0===e?null:e)?At(e,n,r,t):e)||a.getNext(),n,r,t)},a}function At(e,t,n,r){var o,a=null,i=!r;return z(e)&&0<e.length&&(o=null,$(e,function(e){(i=!i&&r===e||i)&&e&&K(e.processTelemetry)&&(e=Rt(e,t,n),a=a||e,o&&o._setNext(e),o=e)})),r&&!a?At([r],t,n):a}function Rt(s,r,o){var c=null,a=K(s.processTelemetry),i=K(s.setNextPlugin),l=s?s.identifier+"-"+s.priority+"-"+Pt++:"Unknown-0-"+Pt++,u={getPlugin:function(){return s},getNext:function(){return c},processTelemetry:function(n,e){var t;f(e=e||(t=(t=s&&K(s[Lt])?s[Lt]():t)||jt(u,r,o)),function(e){if(!s||!a)return!1;var t=Ht(s);return!t.teardown&&!t[k]&&(i&&s.setNextPlugin(c),s.processTelemetry(n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e.processNext(n)},unload:function(r,o){f(r,function(){var e,t,n=!1;return s&&(e=Ht(s),t=s[g]||e.core,!s||t&&t!==r[g]()||e[H]||(e[g]=null,e[H]=!0,e[M]=!1,s[H]&&!0===s[H](r,o)&&(n=!0))),n},"unload",function(){},o.isAsync)||r.processNext(o)},update:function(r,o){f(r,function(){var e,t,n=!1;return s&&(e=Ht(s),t=s[g]||e.core,!s||t&&t!==r[g]()||e[H]||s[D]&&!0===s[D](r,o)&&(n=!0)),n},"update",function(){},!1)||r.processNext(o)},_id:l,_setNext:function(e){c=e}};function f(n,r,o,e,t){var a=!1,i=s?s.identifier:Dt,u=(u=n[kt])||(n[kt]={});return n.setNext(c),s&&pt(n[g](),function(){return i+":"+o},function(){u[l]=!0;try{var e=c?c._id:d;e&&(u[e]=!1),a=r(n)}catch(t){e=!c||u[c._id];e&&(a=!0),c&&e||y(n.diagLog(),1,73,"Plugin ["+i+"] failed during "+o+" - "+J(t)+", run flags: "+J(u))}},e,t),a}return ye(u)}function _t(){var t=[];return{add:function(e){e&&t.push(e)},run:function(n,r){$(t,function(e){try{e(n,r)}catch(t){y(n.diagLog(),2,73,"Unexpected error calling unload handler - "+J(t))}}),t=[]}}}var C="getPlugin",t=function $n(){var a,i,l,f,d,u=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=i||jt(null,{},u.core),e=l&&l[C]?t.createNew(null,l[C]):t.createNew(null,l)),e}function s(e,t,n){e&&(a="extensionConfig",o=r=[],e&&(o=e[a])!==r&&O(o)&&(e[a]=o=r)),!n&&t&&(n=t.getProcessTelContext().getNext());var r,o,a=l;l&&l[C]&&(a=l[C]()),u.core=t,i=jt(n,e,t,a)}function p(){a=!1,u.core=null,l=i=null,d=[],f=_t()}p(),B($n,u,function(c){var e,t,n,r,o;c.initialize=function(e,t,n,r){s(e,t,r),a=!0},c.teardown=function(e,t){var n,r,o,a,i=c.core;if(i&&(!e||i===e.core()))return r=!1,o=e||function s(e,n,t){var r=n.config||{},o=St(e,r,n,t),a=o.ctx;return a.processNext=function(e){var t=o._next();return t&&t.unload(a,e),!t},a.createNew=function(e,t){return s((e=z(e=void 0===e?null:e)?At(e,r,n,t):e)||a.getNext(),n,t)},a}(null,i,l&&l[C]?l[C]():l),a=t||{reason:0,isAsync:!1},c[L]&&!0===c[L](o,a,u)?n=!0:u(),n;function u(){r||(r=!0,f.run(o,t),$(d,function(e){e.rm()}),d=[],!0===n&&o.processNext(a),p())}},c.update=function(e,t){var n,r,o,a=c.core;if(a&&(!e||a===e.core()))return r=!1,o=e||function u(e,n,t){var r=n.config||{},o=St(e,r,n,t).ctx;return o.processNext=function(t){return o.iterate(function(e){K(e.update)&&e.update(o,t)})},o.createNew=function(e,t){return u((e=z(e=void 0===e?null:e)?At(e,r,n,t):e)||o.getNext(),n,t)},o}(null,a,l&&l[C]?l[C]():l),c._doUpdate&&!0===c._doUpdate(o,t||{reason:0},i)?n=!0:i(),n;function i(){r||(r=!0,s(o.getCfg(),o.core(),o.getNext()))}},c._addHook=function(e){e&&(z(e)?d=d.concat(e):d.push(e))},n="_addUnloadCb",t=function(){return f},(e=c)&&t&&(e[n]=(o=r=null,K(n=t)?r=n:o=n,function(){var e=arguments;if(o=r?r():o)return o.add.apply(o,e)}))}),u.diagLog=function(e){return t(e).diagLog()},u[M]=function(){return a},u.setInitialized=function(e){a=e},u.setNextPlugin=function(e){l=e},u.processNext=function(e,t){t?t.processNext(e):l&&K(l.processTelemetry)&&l.processTelemetry(e,null)},u._getTelCtx=t},Et="attachEvent",Nt="addEventListener",Ft=(qt("aiEvtPageHide"),qt("aiEvtPageShow"),/\.[\.]+/g),Ut=/[\.]+$/,Ot=1,Kt=It("events"),Xt=/^([^.]*)(?:\.(.+)|)/;function zt(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Vt(e,t){t&&(n="",z(t)?(n="",$(t,function(e){(e=zt(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=zt(t),n&&(e=(e||"")+(n="."!==n[0]?"."+n:n)));var n,t=Xt.exec(e||"")||[];return{type:t[1],ns:(t[2]||"").replace(Ft,".").replace(Ut,"").split(".").sort().join(".")}}function $t(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=d,r=0;r<4;r++)n+=t[15&(e=xt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var o=t[8+(3&xt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)}var Bt="_aiHooks",Wt=["req","rsp","hkErr","fnErr"];function Jt(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Yt(e,i,u,s,c){0<=c&&c<=2&&Jt(e,function(e,t){var e=e.cbks,n=e[Wt[c]];if(n){i.ctx=function(){return s[t]=s[t]||{}};try{n.apply(i.inst,u)}catch(o){n=i.err;try{var r=e.hkErr;r&&(i.err=o,r.apply(i.inst,u))}catch(a){}finally{i.err=n}}}})}function Gt(s){return function(){var n=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,t){(n=a([],n))[e]=t,o=a([r],n)}},t=[],o=a([r],n);function a(t,e){return Jt(e,function(e){t.push(e)}),t}r.evt=W("event"),Yt(e,r,o,t,0);var i=s.f;if(i)try{r.rslt=i.apply(this,n)}catch(u){throw r.err=u,Yt(e,r,o,t,3),u}return Yt(e,r,o,t,1),r.rslt}}function Zt(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){e=function a(e,t,n){var r=null;return e&&(p.call(e,t)?r=e:n&&(r=a(ce(e),t,!1))),r}(e,t,r);if(e){r=e[t];if(typeof r===c)return e=e,t=t,n=n,(o=r&&r[Bt])||((r=Gt(o={i:0,n:t,f:r,h:[]}))[Bt]=o,e[t]=r),t={id:o.i,cbks:n,rm:function(){var n=this.id;Jt(o.h,function(e,t){return e.id===n&&(o.h.splice(t,1),1)})}},o.i++,o.h.push(t),t}}var o;return null}Qt={},X({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]},function(e,t){Qt[e]=t[1],Qt[t[0]]=t[1]}),i=Qt,A&&X(i,function(e,t){(z(t)||fe(t))&&A(t)});var Qt,Y=ye(i);function en(e,t,n){var r,o,a=t.length,i=(e=e,(t=t)&&150<(t=he(t.toString())).length&&(o=t.substring(0,150),y(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),o||t);if(i.length!==a){for(var u=0,s=i;n[s]!==undefined;)u++,s=i.substring(0,147)+(r=void 0,(r="00"+u).substr(r.length-3));i=s}return i}function G(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=he(t)).toString().length>n&&(r=t.toString().substring(0,n),y(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function tn(e,t){var n;return t&&2048<(t=he(t)).length&&(n=t.substring(0,2048),y(e,2,66,"input is too long, it has been truncated to 2048 characters.",{data:t},!0)),n||t}function nn(r,e){var o;return e&&(o={},X(e,function(e,t){if(fe(t)&&rt())try{t=ot().stringify(t)}catch(n){y(r,2,49,"custom property is not valid",{exception:n},!0)}t=G(r,t,8192),e=en(r,e,o),o[e]=t}),e=o),e}var rn="";function on(e){var t=rn+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=rn+Math.floor(e/6e4)%60,r=rn+Math.floor(e/36e5)%24,o=Math.floor(e/864e5),e=1===(e=rn+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<o?o+".":rn)+r+":"+n+":"+t+"."+e}var an="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",un="not_specified",sn="iKey",cn=et()||{},ln=0,fn=[null,null,null,null,null];function dn(n){var e=ln,t=fn,r=t[e];return cn.createElement?t[e]||(r=t[e]=cn.createElement("a")):r={host:function(){var e=pn(n,!0)||"";if(e){var t=e.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=t&&3<t.length&&V(t[2])&&0<t[2].length)return t[2]+(t[3]||"")}return e}()},r.href=n,++e>=t.length&&(e=0),ln=e,r}function pn(e,t){var n=null;return e&&null!=(e=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<e.length&&V(e[2])&&0<e[2].length&&(n=e[2]||"",t&&2<e.length&&(t=(e[1]||"").toLowerCase(),e=e[3]||"",n+=e="http"==t&&":80"===e||"https"==t&&":443"===e?"":e)),n}var gn=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],hn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var o=dn(t).host.toLowerCase();if(o&&(~o.indexOf(":443")||~o.indexOf(":80"))&&(o=(pn(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&o&&o!==n)return!1;var a,n=e&&e.correlationHeaderDomains;if(n&&($(n,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||e.test(o)}),!a))return!1;var i=e&&e.correlationHeaderExcludedDomains;if(!i||0===i.length)return!0;for(r=0;r<i.length;r++)if(RegExp(i[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&0<o.length},getCorrelationContext:function(e){if(e){e=hn.getCorrelationContextValue(e,Y[1]);if(e&&e!==hn.correlationIdPrefix)return e}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var o=n[r].split("=");if(2===o.length&&o[0]===t)return o[1]}}};function vn(){var e=nt();if(e&&e.now&&e.timing){e=e.now()+e.timing.navigationStart;if(0<e)return e}return Ce()}function mn(e,t){return 0===e||0===t||O(e)||O(t)?null:t-e}yn.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",yn.dataType="RemoteDependencyData";var xn=yn;function yn(e,t,n,r,o,a,i,u,s,c,l,f){void 0===s&&(s="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var d,p,g,h,v=this,n=(v.ver=2,v.id=t,v.duration=on(o),v.success=a,v.resultCode=i+"",v.type=G(e,s),t=e,o=u,s=i=a=r,i=(u=n)&&0<u.length?(p=(n=dn(u)).host,i||(null!=n.pathname?("/"!=((d=0===n.pathname.length?"/":n.pathname)[0]||"")&&(d="/"+d),s=n.pathname,G(t,o?o+" "+d:d)):G(t,u))):p=a,{target:p,name:i,data:s});v.data=tn(e,r)||n.data,v.target=G(e,n.target),c&&(v.target="".concat(v.target," | ").concat(c)),v.name=G(e,n.name),v.properties=nn(e,l),v.measurements=(g=e,(o=f)&&(h={},X(o,function(e,t){e=en(g,e,h),h[e]=t}),o=h),o)}var Cn="00",Tn="ff",bn="00000000000000000000000000000000",wn="0000000000000000";function qn(e,t,n){return e&&e.length===t&&e!==n&&e.match(/^[\da-f]*$/)}function In(e,t,n){return qn(e,t)?e:n}function Mn(e,t,n,r){return{version:qn(r,2,Tn)?r:Cn,traceId:qn(e,32,bn)?e:$t(),spanId:qn(t,16,wn)?t:$t().substr(0,16),traceFlags:0<=n&&n<=255?n:1}}function Hn(e){var t,n;return e?(qn(t=function(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t.length<2;)t="0"+t;return t}(e.traceFlags),2)||(t="01"),n=e.version||Cn,"".concat(n="00"!==n&&"ff"!==n?Cn:n,"-").concat(In(e.traceId,32,bn),"-").concat(In(e.spanId,16,wn),"-").concat(t)):""}var T="properties";function Dn(e,t,n){t=e[t],n=e[n];return t&&n?mn(t,n):0}function b(e,t,n,r,o){n=Dn(n,r,o);return n?w(e,t,on(n)):0}function w(e,t,n){var r="ajaxPerf",o=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,o=1),o}var kn,Ln=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},Pn=function Bn(e,t,n){var r=this,o=n,y="responseText";r.perfMark=null,r.completed=!1,r.requestHeadersSize=null,r.requestHeaders=null,r.responseReceivingDuration=null,r.callbackDuration=null,r.ajaxTotalDuration=null,r.aborted=0,r.pageUrl=null,r.requestUrl=null,r.requestSize=0,r.method=null,r.status=null,r.requestSentTime=null,r.responseStartedTime=null,r.responseFinishedTime=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new Ln,r.clientFailure=0,r.traceID=e,r.spanID=t,B(Bn,r,function(x){x.getAbsoluteUrl=function(){return x.requestUrl?(e=dn(x.requestUrl))?e.href:void 0:null;var e},x.getPathName=function(){return x.requestUrl?tn(o,(e=x.method,t=x.requestUrl,e?e.toUpperCase()+" "+t:t)):null;var e,t},x.CreateTrackItem=function(e,t,n){if(x.ajaxTotalDuration=Math.round(1e3*mn(x.requestSentTime,x.responseFinishedTime))/1e3,x.ajaxTotalDuration<0)return null;(e={id:"|"+x.traceID+"."+x.spanID,target:x.getAbsoluteUrl(),name:x.getPathName(),type:e,startTime:null,duration:x.ajaxTotalDuration,success:200<=+x.status&&+x.status<400,responseCode:+x.status,method:x.method})[T]={HttpMethod:x.method};var r,o,a,i,u,s,c,l,f,d,p,g,h,v,m;return x.requestSentTime&&(e.startTime=new Date,e.startTime.setTime(x.requestSentTime)),i=(r=x).perfTiming,u=(o=e)[T]||{},s=0,h="duration",v="startTime",c="connectEnd",l="requestStart",m="responseEnd",f="transferSize",d="encodedBodySize",p="decodedBodySize",g="serverTiming",i?(s=(s=(s=(s=(s=(s=(s|=b(u,"End",i,"redirectStart","End"))|b(u,"domainLookup",i,"domainLookupStart","domainLookupEnd"))|b(u,"connect",i,"connectStart",c))|b(u,"request",i,l,"requestEnd"))|b(u,"response",i,"responseStart",m))|b(u,"networkConnect",i,v,c))|b(u,"sentRequest",i,l,m),s=(s|=w(u,h,c=i[h]||Dn(i,v,m)||0))|w(u,"perfTotal",c),(l=i[g])&&(a={},$(l,function(e,t){var t=de(e.name||""+t),n=a[t]||{};X(e,function(e,t){!("name"!==e&&V(t)||"number"==typeof t)||!(t=n[e]?n[e]+";"+t:t)&&V(t)||(n[e]=t)}),a[t]=n}),s|=w(u,g,a)),s=(s=(s|=w(u,f,i[f]))|w(u,d,i[d]))|w(u,p,i[p])):r.perfMark&&(s|=w(u,"missing",r.perfAttempts)),s&&(o[T]=u),t&&0<xe(x.requestHeaders).length&&(e[T]=e[T]||{},e[T].requestHeaders=x.requestHeaders),n&&(h=n())&&((v=h.correlationContext)&&(e.correlationContext=v),h.headerMap&&0<xe(h.headerMap).length&&(e[T]=e[T]||{},e[T].responseHeaders=h.headerMap),x.errorStatusText&&400<=x.status&&(m=h.type,e[T]=e[T]||{},""!==m&&"text"!==m||(e[T][y]=h[y]?h.statusText+" - "+h[y]:h.statusText),"json"===m&&(e[T][y]=h.response?h.statusText+" - "+JSON.stringify(h.response):h.statusText))),e}})},Sn="ai.ajxmn.",jn="diagLog",Z="ajaxData",An="fetch",Rn="trackDependencyDataInternal",_n=0;function En(e){var t=!1,n=(function(){var e=!1;try{e=!!W(Ge)}catch(t){}return e}()&&(t=!(O(n=XMLHttpRequest[U])||O(n.open)||O(n.send)||O(n.abort))),function(e){var t=((e=(e=void 0===e?null:e)?e:(t=tt()||{})?(t.userAgent||d).toLowerCase():d)||d).toLowerCase();if(pe(t,Je))return e=et()||{},Math.max(parseInt(t.split(Je)[1]),e[Xe]||0);if(pe(t,Ye)){e=parseInt(t.split(Ye)[1]);if(e)return e+4}return null}());if(t=!(n&&n<9)&&t)try{(new XMLHttpRequest)[Z]={};var r=XMLHttpRequest[U].open;XMLHttpRequest[U].open=r}catch(o){t=!1,Fn(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:J(o)})}return t}function Nn(e){var t="";try{O(e)||O(e[Z])||O(e[Z].requestUrl)||(t+="(url: '"+e[Z].requestUrl+"')")}catch(n){}return t}function Fn(e,t,n,r,o){y(e[jn](),1,t,n,r,o)}function Un(e,t,n,r,o){y(e[jn](),2,t,n,r,o)}function On(t,n,r){return function(e){Fn(t,n,r,{ajaxDiagnosticsMessage:Nn(e.inst),exception:J(e.err)})}}function Kn(e,t){return e&&t?e.indexOf(t):-1}function Xn(){this.constructor=kn}kn=Q,typeof(r=zn=t)!==c&&null!==r&&q("Class extends value "+r+" is not a constructor or null"),I(kn,r),kn[U]=(Xn[U]=r[U],new Xn),Q.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:undefined,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:undefined,correlationHeaderExcludePatterns:undefined,appId:undefined,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:undefined}},Q.getEmptyConfig=function(){var t=this.getDefaultConfig();return X(t,function(e){t[e]=undefined}),t},Q.prototype.processTelemetry=function(e,t){this.processNext(e,t)},Q.identifier="AjaxDependencyPlugin";var zn,i=Q;function Q(){var C,T,b,w,q,I,r,M,H,D,k,L,P,S,j,A,R,_,E,N,e=zn.call(this)||this;return e.identifier=Q.identifier,e.priority=120,B(Q,e,function(l,i){var u=i._addHook;function e(){var e=typeof location===F&&location?location:W("location");T=C=!1,b=e&&e.host&&e.host.toLowerCase(),w=Q.getEmptyConfig(),P=r=0,S=L=D=H=I=q=!1,R=A=!(j={}),N=E=_=k=M=null}function f(t){var n=!0;return(t||w.ignoreHeaders)&&$(w.ignoreHeaders,function(e){if(e.toLowerCase()==t.toLowerCase())return n=!1,-1}),n}function s(e,t,n){u(e?Zt(e[U],t,n,!1):null)}function d(e,t,n){var r=!1,o=((V(t)?t:(t||{}).url||"")||"").toLowerCase();if($(_,function(e){var t=e;V(e)&&(t=RegExp(e)),r=r||t.test(o)}),r)return r;var a=Kn(o,"?"),i=Kn(o,"#");return-1!==(a=-1===a||-1!==i&&i<a?i:a)&&(o=o.substring(0,a)),O(e)?O(t)||(r="object"==typeof t&&!0===t[an]||!!n&&!0===n[an]):r=!0===e[an]||!0===o[an],(r=!(r||!o||(i=o,!~gn.indexOf(i.toLowerCase())))||r)?j[o]||(j[o]=1):j[o]&&(r=!0),r}function p(e,t){var n=!0,r=T;return O(e)||(n=!0===t||!O(e[Z])),r&&n}function g(n){n[Z].xhrMonitoringState.stateChangeAttached=function(e,t,n,r){void 0===r&&(r=!1);var o,a,i,u,s=!1;if(e)try{var c,l=Vt("readystatechange",n),f=l,d=t,p=r,g=!1;(u=e)&&f&&f.type&&d&&(u[Nt]?(u[Nt](f.type,d,p),g=!0):u[Et]&&(u[Et]("on"+f.type,d),g=!0)),(s=g)&&Kt.accept(e)&&(c={guid:Ot++,evtName:l,handler:t,capture:r},o=l.type,((i=Kt.get(e,"events",{},a=void 0===a||a))[o]||(i[o]=[])).push(c))}catch(h){}return s}(n,function(){try{n&&4===n.readyState&&p(n)&&((a=(o=n)[Z]).responseFinishedTime=vn(),a.status=o.status,v("xmlhttprequest",a,function(){try{var e=a.CreateTrackItem("Ajax",q,function(){var e,n,t={statusText:o.statusText,headerMap:null,correlationContext:c(o),type:o.responseType,responseText:function(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}(o),response:o.response};return S&&(e=o.getAllResponseHeaders())&&(e=he(e).split(/[\r\n]+/),n={},$(e,function(e){var e=e.split(": "),t=e.shift(),e=e.join(": ");f(t)&&(n[t]=e)}),t.headerMap=n),t}),t=void 0;try{E&&(t=E({status:o.status,xhr:o}))}catch(n){Un(l,104,"Failed to add custom defined request context as configured call back may missing a null check.")}e?(t!==undefined&&(e.properties=te(te({},e.properties),t)),l[Rn](e)):r(null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}finally{try{o[Z]=null}catch(n){}}},function(e){r(e,null)}))}catch(t){var e=J(t);e&&-1!==Kn(e.toLowerCase(),"c00c023f")||Fn(l,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Nn(n),exception:e})}function r(e,t){t=t||{};t.ajaxDiagnosticsMessage=Nn(o),e&&(t.exception=J(e)),Un(l,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",t)}var o,a},N)}function c(e){try{var t,n=e.getAllResponseHeaders();if(null!==n&&-1!==Kn(n.toLowerCase(),Y[8]))return t=e.getResponseHeader(Y[0]),hn.getCorrelationContext(t)}catch(r){Un(l,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Nn(e),exception:J(r)})}}function h(e,t){var n;t.requestUrl&&k&&L&&(n=nt())&&K(n.mark)&&(e=k+e+"#"+ ++_n,n.mark(e),(e=n.getEntriesByName(e))&&1===e.length&&(t.perfMark=e[0]))}function v(a,i,u,s){var c=i.perfMark,l=nt(),f=w.maxAjaxPerfLookupAttempts,d=w.ajaxPerfLookupDelay,p=i.requestUrl,g=0;!function h(){try{if(l&&c){g++;for(var e=null,t=l.getEntries(),n=t.length-1;0<=n;n--){var r=t[n];if(r){if("resource"===r.entryType)r.initiatorType!==a||-1===Kn(r.name,p)&&-1===Kn(p,r.name)||(e=r);else if("mark"===r.entryType&&r.name===c.name){i.perfTiming=e;break}if(r.startTime<c.startTime-1e3)break}}}!c||i.perfTiming||f<=g||!1===i["async"]?(c&&K(l.clearMarks)&&l.clearMarks(c.name),i.perfAttempts=g,u()):setTimeout(h,d)}catch(o){s(o)}}()}function m(e){var t="";try{O(e)||(t+="(url: '".concat("string"==typeof e?e:e.url,"')"))}catch(n){Fn(l,15,"Failed to grab failed fetch diagnostics message",{exception:J(n)})}return t}function x(e,r,o,a,i,u){function s(e,t,n){n=n||{};n.fetchDiagnosticsMessage=m(o),t&&(n.exception=J(t)),Un(l,e,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",n)}i&&(i.responseFinishedTime=vn(),i.status=r,v("fetch",i,function(){var e,t=i.CreateTrackItem("Fetch",q,u);try{E&&(e=E({status:r,request:o,response:a}))}catch(n){Un(l,104,"Failed to add custom defined request context as configured call back may missing a null check.")}t?(e!==undefined&&(t.properties=te(te({},t.properties),e)),l[Rn](t)):s(14,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})},function(e){s(18,e,null)}))}function y(e){if(e&&e.headers)try{var t=e.headers.get(Y[0]);return hn.getCorrelationContext(t)}catch(n){Un(l,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:m(e),exception:J(n)})}}e(),l.initialize=function(e,t,n,r){var o,c,a;l.isInitialized()||(i.initialize(e,t,n,r),n=qt("ajax"),a=(r=t&&t.evtNamespace&&t.evtNamespace())?Vt("xx",a=z(r)?[n].concat(r):[n,r]).ns.split("."):n,N=a,o=jt(null,t=e,l.core),w=Q.getEmptyConfig(),X(Q.getDefaultConfig(),function(e,t){w[e]=o.getConfig(Q.identifier,e,t)}),r=w.distributedTracingMode,q=w.enableRequestHeaderTracking,I=w.enableAjaxErrorStatusText,L=w.enableAjaxPerfTracking,P=w.maxAjaxCallsPerView,S=w.enableResponseHeaderTracking,_=w.excludeRequestFromAutoTrackingPatterns,E=w.addRequestContext,D=0===r||1===r,H=1===r||2===r,L&&(n=t.instrumentationKey||"unkwn",k=5<n.length?Sn+n.substring(n.length-5)+".":Sn+n+"."),A=!!w.disableAjaxTracking,R=!!w.disableFetchTracking,!En(l)||A||T||(s(XMLHttpRequest,"open",{ns:N,req:function(e,t,n,r){var o,a,i;A||(o=(e=e.inst)[Z],!d(e,n)&&p(e,!0)&&(o&&o.xhrMonitoringState.openDone||(o=e,t=t,n=n,r=r,i=M&&M.telemetryTrace&&M.telemetryTrace.traceID||$t(),a=$t().substr(0,16),(i=new Pn(i,a,l[jn]())).method=t,i.requestUrl=n,i.xhrMonitoringState.openDone=!0,i.requestHeaders={},i["async"]=r,i.errorStatusText=I,o[Z]=i),g(e)))},hkErr:On(l,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"send",{ns:N,req:function(e,t){var n;A||(n=(e=e.inst)[Z],p(e)&&!n.xhrMonitoringState.sendDone&&(h("xhr",n),n.requestSentTime=vn(),l.includeCorrelationHeaders(n,undefined,undefined,e),n.xhrMonitoringState.sendDone=!0))},hkErr:On(l,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"abort",{ns:N,req:function(e){var t;A||(t=(e=e.inst)[Z],p(e)&&!t.xhrMonitoringState.abortDone&&(t.aborted=1,t.xhrMonitoringState.abortDone=!0))},hkErr:On(l,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"setRequestHeader",{ns:N,req:function(e,t,n){!A&&q&&p(e=e.inst)&&f(t)&&(e[Z].requestHeaders[t]=n)},hkErr:On(l,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),T=!0),(e=!(a=ee())||O(a.Request)||O(a.Request[U])||O(a[An])?null:a[An])&&(r=ee(),c=e.polyfill,R||C?c&&u(Zt(r,An,{ns:N,req:function(e,t,n){d(null,t,n)}})):(u(Zt(r,An,{ns:N,req:function(e,t,n){var r,o,a,i,u,s;R||!C||d(null,t,n)||c&&T||(r=e.ctx(),o=t,a=n,i=M&&M.telemetryTrace&&M.telemetryTrace.traceID||$t(),u=$t().substr(0,16),(i=new Pn(i,u,l[jn]())).requestSentTime=vn(),i.errorStatusText=I,o instanceof Request?i.requestUrl=o?o.url:"":i.requestUrl=o,u="GET",a&&a.method?u=a.method:o&&o instanceof Request&&(u=o.method),i.method=u,s={},q&&new Headers((a?a.headers:0)||o instanceof Request&&o.headers||{}).forEach(function(e,t){f(t)&&(s[t]=e)}),i.requestHeaders=s,h("fetch",i),u=i,(a=l.includeCorrelationHeaders(u,t,n))!==n&&e.set(1,a),r.data=u)},rsp:function(e,n){var r;R||(r=e.ctx().data)&&(e.rslt=e.rslt.then(function(t){return x(0,(t||{}).status,n,t,r,function(){var n,e={statusText:t.statusText,headerMap:null,correlationContext:y(t)};return S&&(n={},t.headers.forEach(function(e,t){f(t)&&(n[t]=e)}),e.headerMap=n),e}),t})["catch"](function(e){throw x(0,0,n,null,r,null,e.message),e}))},hkErr:On(l,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),C=!0),c&&(r[An].polyfill=c)),(t=l.core.getPlugin("AppInsightsPropertiesPlugin"))&&(M=t.plugin.context))},l._doTeardown=function(){e()},l.trackDependencyData=function(e,t){l[Rn](e,t)},l.includeCorrelationHeaders=function(e,t,n,r){var o,a,i,u=l._currentWindowHost||b;return t?(hn.canIncludeCorrelationHeader(w,e.getAbsoluteUrl(),u)&&((n=n||{}).headers=new Headers(n.headers||t instanceof Request&&t.headers||{}),D&&(o="|"+e.traceID+"."+e.spanID,n.headers.set(Y[3],o),q&&(e.requestHeaders[Y[3]]=o)),(a=w.appId||M&&M.appId())&&(n.headers.set(Y[0],Y[2]+a),q&&(e.requestHeaders[Y[0]]=Y[2]+a)),H&&(i=Hn(Mn(e.traceID,e.spanID,1)),n.headers.set(Y[4],i),q&&(e.requestHeaders[Y[4]]=i))),n):r?(hn.canIncludeCorrelationHeader(w,e.getAbsoluteUrl(),u)&&(D&&(o="|"+e.traceID+"."+e.spanID,r.setRequestHeader(Y[3],o),q&&(e.requestHeaders[Y[3]]=o)),(a=w.appId||M&&M.appId())&&(r.setRequestHeader(Y[0],Y[2]+a),q&&(e.requestHeaders[Y[0]]=Y[2]+a)),H&&(i=Hn(Mn(e.traceID,e.spanID,1)),r.setRequestHeader(Y[4],i),q&&(e.requestHeaders[Y[4]]=i))),r):undefined},l[Rn]=function(e,t,n){-1===P||r<P?(2!==w.distributedTracingMode&&1!==w.distributedTracingMode||"string"!=typeof e.id||"."===e.id[e.id.length-1]||(e.id+="."),O(e.startTime)&&(e.startTime=new Date),e=function(e,t,n,r,o,a){if(n=G(r,n)||un,O(e)||O(t)||O(n))throw Error("Input doesn't contain all required fields");var r="",i=(e[sn]&&(r=e[sn],delete e[sn]),{name:n,time:function(e){if(e){if(re)return e[ne]();var t;return e&&e.getUTCFullYear?(t=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e});return O(o)||X(o,function(e,t){i.data[e]=t}),i}(e,xn.dataType,xn.envelopeType,l[jn](),t,n),l.core.track(e)):r===P&&Fn(l,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++r}}),e}e.AjaxPlugin=i,e.ajaxRecord=Pn;t=e,r="__esModule",i={value:!0},e=Object.defineProperty;if(e)try{return void e(t,r,i)}catch(Wn){}typeof i.value!==undefined&&(t[r]=i.value)};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-dependencies-js.min.js.map
